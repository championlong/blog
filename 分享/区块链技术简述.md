# 区块链技术简述

## 什么是区块链

1. 区块链是一种去中心化的分布式账本数据库，区块链数据库将数据存储在区块中，而数据库则一起链接到一个链条中。
2. 区块链的特性：不可篡改、匿名性、去中心化、开放性、共识机制；
3. 区块链可以帮助多个节点达成共识去记录和Token相关的事情；

### 区块链的运行

1. 公开记账：任何人都进行记账，不是记录余额，而是记载每一笔交易的付款人、收款人和付款金额。其中引入了非对称加密确保安全性。
2. 创建创世区块：第一个被最早构建的区块称为创世块，拥有一个唯一的ID标识号，初始化后进行同步区块。
3. 交易：生成交易单
4. 打包交易：将多条交易打包成新的区块并附加到区块链上。通过计算获取打包交易的资格（寻找符合条件的目标哈希），打包成功后便能获得相应的报酬。
5. 广播交易：第一种广播是意味着还有未被打包的交易，而第二种广播信封则意味着这个交易已经被某个矿工确认。收到广播的消息验证区块没问题就可以存入本地数据库了。

### 核心技术

1. P2P网络协议：负责交易数据的网络传输和广播、节点发现和维护。
2. 分布式一致性算法：在经典分布式计算领域，有 Raft 和 Paxos 算法家族代表的非拜占庭容错算法，以及具有[拜占庭容错](https://blog.csdn.net/u011046042/article/details/110825340)特性的 PBFT 共识算法。
3. 加密签名算法：在区块链领域，哈希算法是应用得最多的算法。哈希算法具有抗碰撞性、原像不可逆、难题友好性等特征。在比特币中，[SHA2506](https://zhuanlan.zhihu.com/p/94619052)算法被用作工作量证明的计算方法，
4. 账户与存储模型：区块链可以认为是一种分布式数据库，多以轻量级嵌入式数据库为主。账本特性，通常分为 UTXO 结构以及基于 Account-Balance 结构的账本结构。[](https://zhuanlan.zhihu.com/p/264882173)

## 共识机制

共识机制出现解决的问题：谁有权利、作弊问题。

1. PoW：通常是指在给定的约束下，求解一个特定难度的数学问题，谁解的速度快，谁就能获得记账权（出块）权利。这个求解过程往往会转换成计算问题，所以在比拼速度的情况下，也就变成了谁的计算方法更优，以及谁的设备性能更好。比特币本身的演化很好地诠释了这个问题，中本聪设计的思路本来是由 CPU 计算。随着市场发展，人们发现GPU 也可以参与其中，而且效率可以达到十倍百倍，现在，这项工作基本以 ASIC 专业挖矿芯片为主。
2. PoS：这是一种股权证明机制，它的基本概念是产生区块的难度应该与你在网络里所占的股权（所有权占比）成比例，目前有三个版本 PoS1.0、PoS2.0、PoS3.0。它实现的核心思路是：使用你所锁定代币的币龄（CoinAge）以及一个小的工作量证明，去计算一个目标值，当满足目标值时，你将可能获取记账权。
3. DPoS：简单来理解就是将 PoS 共识算法中的记账者转换为指定节点数组成的小圈子，而不是所有人都可以参与记账，这个圈子可能是 21 个节点，也有可能是 101 个节点。这一点取决于设计，只有这个圈子中的节点才能获得记账。这将极大地提高系统的吞吐量，因为更少的节点也就意味着网络和节点的可控。

## 智能合约

从技术角度来看，智能合约等价于一段事先就被规定好逻辑和条款的计算机代码被激活运行的状态，同时，智能合约也提供了通用的用户接口，用户可以通过接口与用户交互。

以太坊项目又被称作区块链 2.0 项目，这里 2.0 就是指智能合约。与比特币相比，以太坊首先不是一个单纯的数字货币项目，它可以提供全世界无差别的区块链智能合约应用平台，这个平台基于P2P 网络、共识机制、账户模型、加密模块。

区块链的开发者因为智能合约的出现开始分为两类。第一类是公链底层开发者，主要是以 C++ 和 Go 语言为主的全节点开发者，他们需要对区块链各个技术模块有很深的理解。第二类是智能合约开发者，也就是应用开发者，这类开发者对区块链的运行原理不需要理解很深，只需要会编写 Solidity，了解规范即可。

## NFT数字藏品平台

### 公链与联盟链

不同平台使用不同类型的链，不同的链有不同的去中心化程度。根据去中心化程度的不同，目前国内主流数字藏品平台采用的区块链主要可分为公链和联盟链。

#### 公链

公有链简称公链，是指全世界任何人都可读取、发送交易且能获得有效确认的共识区块链。

目前市场上较为有名的公链包括有：比特币（Bitcoin）、以太坊（Ethereum）

#### 联盟链

联盟链，是指有若干组织或机构共同参与管理的区块链，每个组织或机构控制一个或多个节点，共同记录交易数据，并且只有这些组织或机构能够对联盟链中的数据进行读写和发送交易。

联盟链与公链的概念区别，仅仅是看新加入的节点是否要经过全网中其他节点的许可，这决定了一个区块链是否开放，开放程度决定了项目生态的大小，这也是最直观的区别。

主流联盟链包括：**蚂蚁链**（蚂蚁集团）、**BSN链**（国家信息中心等）、**至信链**（腾讯）、**百度超级链**（百度）、**智臻链**（京东）、**网易区块链**（网易）

以BSN文昌链为例：[文昌链开发者文档](https://wenchang.bianjie.ai/wenchangchain.html)、[区块链服务网络](